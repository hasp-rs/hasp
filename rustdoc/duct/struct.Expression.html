<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The central objects in Duct, Expressions are created with `cmd` or `cmd!`, combined with `pipe`, and finally executed with `run`, `read`, `start`, or `reader`. They also support several methods to control their execution, like `stdin_bytes`, `stdout_capture`, `env`, and `unchecked`."><meta name="keywords" content="rust, rustlang, rust-lang, Expression"><title>Expression in duct - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../duct/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Struct Expression</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.before_spawn">before_spawn</a><a href="#method.dir">dir</a><a href="#method.env">env</a><a href="#method.env_remove">env_remove</a><a href="#method.full_env">full_env</a><a href="#method.pipe">pipe</a><a href="#method.read">read</a><a href="#method.reader">reader</a><a href="#method.run">run</a><a href="#method.start">start</a><a href="#method.stderr_capture">stderr_capture</a><a href="#method.stderr_file">stderr_file</a><a href="#method.stderr_null">stderr_null</a><a href="#method.stderr_path">stderr_path</a><a href="#method.stderr_to_stdout">stderr_to_stdout</a><a href="#method.stdin_bytes">stdin_bytes</a><a href="#method.stdin_file">stdin_file</a><a href="#method.stdin_null">stdin_null</a><a href="#method.stdin_path">stdin_path</a><a href="#method.stdout_capture">stdout_capture</a><a href="#method.stdout_file">stdout_file</a><a href="#method.stdout_null">stdout_null</a><a href="#method.stdout_path">stdout_path</a><a href="#method.stdout_stderr_swap">stdout_stderr_swap</a><a href="#method.stdout_to_stderr">stdout_to_stderr</a><a href="#method.unchecked">unchecked</a></div><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-Clone">Clone</a><a href="#impl-Debug">Debug</a><a href="#impl-From%3C%26%27a%20Expression%3E">From&lt;&amp;&#39;a Expression&gt;</a></div><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">!UnwindSafe</a></div><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-ToOwned">ToOwned</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><h2 class="location">Other items in<br><a href="index.html">duct</a></h2><div id="sidebar-vars" data-name="Expression" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Struct <a href="index.html">duct</a>::<wbr><a class="struct" href="#">Expression</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/duct/lib.rs.html#221" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust struct"><code>pub struct Expression(_);</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The central objects in Duct, Expressions are created with
<a href="fn.cmd.html"><code>cmd</code></a> or <a href="macro.cmd.html"><code>cmd!</code></a>, combined with
<a href="struct.Expression.html#method.pipe"><code>pipe</code></a>, and finally executed with
<a href="struct.Expression.html#method.run"><code>run</code></a>,
<a href="struct.Expression.html#method.read"><code>read</code></a>,
<a href="struct.Expression.html#method.start"><code>start</code></a>, or
<a href="struct.Expression.html#method.reader"><code>reader</code></a>. They also support several
methods to control their execution, like
<a href="struct.Expression.html#method.stdin_bytes"><code>stdin_bytes</code></a>,
<a href="struct.Expression.html#method.stdout_capture"><code>stdout_capture</code></a>,
<a href="struct.Expression.html#method.env"><code>env</code></a>, and
<a href="struct.Expression.html#method.unchecked"><code>unchecked</code></a>.</p>
<p>Expressions are immutable, and they do a lot of
<a href="https://doc.rust-lang.org/std/sync/struct.Arc.html"><code>Arc</code></a> sharing
internally, so all of the methods below take <code>&amp;self</code> and return a new
<code>Expression</code> cheaply.</p>
<p>Expressions using <code>pipe</code> form trees, and the order in which you call
different methods can matter, just like it matters where you put
redirections in Bash. For example, each of these expressions suppresses
output differently:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Only suppress stderr on the left side.</span>
<span class="macro">cmd!</span>(<span class="string">&quot;foo&quot;</span>).<span class="ident">stderr_null</span>().<span class="ident">pipe</span>(<span class="macro">cmd!</span>(<span class="string">&quot;bar&quot;</span>)).<span class="ident">run</span>()<span class="question-mark">?</span>;

<span class="comment">// Only suppress stderr on the right side.</span>
<span class="macro">cmd!</span>(<span class="string">&quot;foo&quot;</span>).<span class="ident">pipe</span>(<span class="macro">cmd!</span>(<span class="string">&quot;bar&quot;</span>).<span class="ident">stderr_null</span>()).<span class="ident">run</span>()<span class="question-mark">?</span>;

<span class="comment">// Suppress stderr on both sides.</span>
<span class="macro">cmd!</span>(<span class="string">&quot;foo&quot;</span>).<span class="ident">pipe</span>(<span class="macro">cmd!</span>(<span class="string">&quot;bar&quot;</span>)).<span class="ident">stderr_null</span>().<span class="ident">run</span>()<span class="question-mark">?</span>;</code></pre></div>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#223-940" title="goto source code">[src]</a></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.run" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#253-258" title="goto source code">[src]</a></div><a href="#method.run" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.run" class="fnname">run</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/process/struct.Output.html" title="struct std::process::Output">Output</a>&gt;</h4></div></summary><div class="docblock"><p>Execute an expression, wait for it to complete, and return a
<a href="https://doc.rust-lang.org/std/process/struct.Output.html"><code>std::process::Output</code></a>
object containing the results. Nothing is captured by default, but if
you build the expression with
<a href="struct.Expression.html#method.stdout_capture"><code>stdout_capture</code></a> or
<a href="struct.Expression.html#method.stderr_capture"><code>stderr_capture</code></a> then
the <code>Output</code> will hold those captured bytes.</p>
<h1 id="errors" class="section-header"><a href="#errors">Errors</a></h1>
<p>In addition to all the IO errors possible with
<a href="https://doc.rust-lang.org/std/process/struct.Command.html"><code>std::process::Command</code></a>,
<code>run</code> will return an
<a href="https://doc.rust-lang.org/std/io/enum.ErrorKind.html"><code>ErrorKind::Other</code></a>
IO error if child returns a non-zero exit status. To suppress this error
and return an <code>Output</code> even when the exit status is non-zero, use the
<a href="struct.Expression.html#method.unchecked"><code>unchecked</code></a> method.</p>
<h1 id="example" class="section-header"><a href="#example">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;hi&quot;</span>).<span class="ident">stdout_capture</span>().<span class="ident">run</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">b&quot;hi\n&quot;</span>.<span class="ident">to_vec</span>(), <span class="ident">output</span>.<span class="ident">stdout</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.read" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#282-290" title="goto source code">[src]</a></div><a href="#method.read" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.read" class="fnname">read</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</h4></div></summary><div class="docblock"><p>Execute an expression, capture its standard output, and return the
captured output as a <code>String</code>. This is a convenience wrapper around
<a href="struct.Expression.html#method.reader"><code>reader</code></a>. Like backticks and
<code>$()</code> in the shell, <code>read</code> trims trailing newlines.</p>
<h1 id="errors-1" class="section-header"><a href="#errors-1">Errors</a></h1>
<p>In addition to all the errors possible with
<a href="struct.Expression.html#method.run"><code>run</code></a>, <code>read</code> will return an error
if the captured bytes aren’t valid UTF-8.</p>
<h1 id="example-1" class="section-header"><a href="#example-1">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;hi&quot;</span>).<span class="ident">stdout_capture</span>().<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;hi&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.start" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#311-324" title="goto source code">[src]</a></div><a href="#method.start" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.start" class="fnname">start</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.Handle.html" title="struct duct::Handle">Handle</a>&gt;</h4></div></summary><div class="docblock"><p>Start running an expression, and immediately return a
<a href="struct.Handle.html"><code>Handle</code></a> that represents all the child processes.
This is analogous to the
<a href="https://doc.rust-lang.org/std/process/struct.Command.html#method.spawn"><code>spawn</code></a>
method in the standard library. The <code>Handle</code> may be shared between
multiple threads.</p>
<h1 id="example-2" class="section-header"><a href="#example-2">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">handle</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;hi&quot;</span>).<span class="ident">stdout_capture</span>().<span class="ident">start</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="ident">handle</span>.<span class="ident">wait</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">b&quot;hi\n&quot;</span>.<span class="ident">to_vec</span>(), <span class="ident">output</span>.<span class="ident">stdout</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.reader" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#354-367" title="goto source code">[src]</a></div><a href="#method.reader" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.reader" class="fnname">reader</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.ReaderHandle.html" title="struct duct::ReaderHandle">ReaderHandle</a>&gt;</h4></div></summary><div class="docblock"><p>Start running an expression, and immediately return a
<a href="struct.ReaderHandle.html"><code>ReaderHandle</code></a> attached to the child’s
stdout. This is similar to <code>.stdout_capture().start()</code>, but it returns
the reader to the caller rather than reading from a background thread.</p>
<p>Note that because this method doesn’t read child output on a background
thread, it’s a best practice to only create one <code>ReaderHandle</code> at a
time. Child processes with a lot of output will eventually block if
their stdout pipe isn’t read from. If you have multiple children
running, but you’re only reading from one of them at a time, that could
block the others and lead to performance issues or deadlocks. For
reading from multiple children at once, prefer
<code>.stdout_capture().start()</code>.</p>
<h1 id="example-3" class="section-header"><a href="#example-3">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">reader</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;hi&quot;</span>).<span class="ident">reader</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stdout</span> <span class="op">=</span> <span class="ident">Vec::new</span>();
<span class="ident">reader</span>.<span class="ident">read_to_end</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">stdout</span>).<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">b&quot;hi\n&quot;</span>.<span class="ident">to_vec</span>(), <span class="ident">stdout</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.pipe" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#397-399" title="goto source code">[src]</a></div><a href="#method.pipe" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.pipe" class="fnname">pipe</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a>&gt;&gt;(&amp;self, right: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Join two expressions into a pipe expression, where the standard output
of the left will be hooked up to the standard input of the right, like
<code>|</code> in the shell.</p>
<h1 id="errors-2" class="section-header"><a href="#errors-2">Errors</a></h1>
<p>During execution, if one side of the pipe returns a non-zero exit
status, that becomes the status of the whole pipe, similar to Bash’s
<code>pipefail</code> option. If both sides return non-zero, and one of them is
<a href="struct.Expression.html#method.unchecked"><code>unchecked</code></a>, then the checked
side wins. Otherwise the right side wins.</p>
<p>During spawning, if the left side of the pipe spawns successfully, but
the right side fails to spawn, the left side will be killed and
awaited. That’s necessary to return the spawn error immediately,
without leaking the left side as a zombie.</p>
<h1 id="example-4" class="section-header"><a href="#example-4">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;hi&quot;</span>).<span class="ident">pipe</span>(<span class="macro">cmd!</span>(<span class="string">&quot;sed&quot;</span>, <span class="string">&quot;s/h/p/&quot;</span>)).<span class="ident">read</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;pi&quot;</span>, <span class="ident">output</span>.<span class="ident">unwrap</span>());</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdin_bytes" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#420-422" title="goto source code">[src]</a></div><a href="#method.stdin_bytes" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdin_bytes" class="fnname">stdin_bytes</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.u8.html">u8</a>&gt;&gt;&gt;(&amp;self, bytes: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Use bytes or a string as input for an expression, like <code>&lt;&lt;&lt;</code> in the
shell. A worker thread will write the input at runtime.</p>
<h1 id="example-5" class="section-header"><a href="#example-5">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Many types implement Into&lt;Vec&lt;u8&gt;&gt;. Here&#39;s a string.</span>
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;cat&quot;</span>).<span class="ident">stdin_bytes</span>(<span class="string">&quot;foo&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;foo&quot;</span>, <span class="ident">output</span>);

<span class="comment">// And here&#39;s a byte slice.</span>
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;cat&quot;</span>).<span class="ident">stdin_bytes</span>(<span class="kw-2">&amp;</span><span class="string">b&quot;foo&quot;</span>[..]).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;foo&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdin_path" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#439-441" title="goto source code">[src]</a></div><a href="#method.stdin_path" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdin_path" class="fnname">stdin_path</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;&gt;(&amp;self, path: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Open a file at the given path and use it as input for an expression,
like <code>&lt;</code> in the shell.</p>
<h1 id="example-6" class="section-header"><a href="#example-6">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Many types implement Into&lt;PathBuf&gt;, including &amp;str.</span>
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;head&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;3&quot;</span>).<span class="ident">stdin_path</span>(<span class="string">&quot;/dev/zero&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;\0\0\0&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdin_file" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#458-460" title="goto source code">[src]</a></div><a href="#method.stdin_file" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdin_file" class="fnname">stdin_file</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/std/os/fd/raw/trait.IntoRawFd.html" title="trait std::os::fd::raw::IntoRawFd">IntoRawFd</a>&gt;(&amp;self, file: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Use an already opened file or pipe as input for an expression.</p>
<h1 id="example-7" class="section-header"><a href="#example-7">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">input_file</span> <span class="op">=</span> <span class="ident">std::fs::File::open</span>(<span class="string">&quot;/dev/zero&quot;</span>).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;head&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;3&quot;</span>).<span class="ident">stdin_file</span>(<span class="ident">input_file</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;\0\0\0&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdin_null" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#479-481" title="goto source code">[src]</a></div><a href="#method.stdin_null" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdin_null" class="fnname">stdin_null</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Use <code>/dev/null</code> (or <code>NUL</code> on Windows) as input for an expression.</p>
<h1 id="example-8" class="section-header"><a href="#example-8">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;cat&quot;</span>).<span class="ident">stdin_null</span>().<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdout_path" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#502-504" title="goto source code">[src]</a></div><a href="#method.stdout_path" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdout_path" class="fnname">stdout_path</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;&gt;(&amp;self, path: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Open a file at the given path and use it as output for an expression,
like <code>&gt;</code> in the shell.</p>
<h1 id="example-9" class="section-header"><a href="#example-9">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Many types implement Into&lt;PathBuf&gt;, including &amp;str.</span>
<span class="kw">let</span> <span class="ident">path</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;mktemp&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;wee&quot;</span>).<span class="ident">stdout_path</span>(<span class="kw-2">&amp;</span><span class="ident">path</span>).<span class="ident">run</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">output</span> <span class="op">=</span> <span class="ident">String::new</span>();
<span class="ident">std::fs::File::open</span>(<span class="kw-2">&amp;</span><span class="ident">path</span>).<span class="ident">unwrap</span>().<span class="ident">read_to_string</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">output</span>).<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;wee\n&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdout_file" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#525-527" title="goto source code">[src]</a></div><a href="#method.stdout_file" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdout_file" class="fnname">stdout_file</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/std/os/fd/raw/trait.IntoRawFd.html" title="trait std::os::fd::raw::IntoRawFd">IntoRawFd</a>&gt;(&amp;self, file: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Use an already opened file or pipe as output for an expression.</p>
<h1 id="example-10" class="section-header"><a href="#example-10">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">path</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;mktemp&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">file</span> <span class="op">=</span> <span class="ident">std::fs::File::create</span>(<span class="kw-2">&amp;</span><span class="ident">path</span>).<span class="ident">unwrap</span>();
<span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;wee&quot;</span>).<span class="ident">stdout_file</span>(<span class="ident">file</span>).<span class="ident">run</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">output</span> <span class="op">=</span> <span class="ident">String::new</span>();
<span class="ident">std::fs::File::open</span>(<span class="kw-2">&amp;</span><span class="ident">path</span>).<span class="ident">unwrap</span>().<span class="ident">read_to_string</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">output</span>).<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;wee\n&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdout_null" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#550-552" title="goto source code">[src]</a></div><a href="#method.stdout_null" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdout_null" class="fnname">stdout_null</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Use <code>/dev/null</code> (or <code>NUL</code> on Windows) as output for an expression.</p>
<h1 id="example-11" class="section-header"><a href="#example-11">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// This echo command won&#39;t print anything.</span>
<span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;foo&quot;</span>, <span class="string">&quot;bar&quot;</span>, <span class="string">&quot;baz&quot;</span>).<span class="ident">stdout_null</span>().<span class="ident">run</span>().<span class="ident">unwrap</span>();

<span class="comment">// And you won&#39;t get anything even if you try to read its output! The</span>
<span class="comment">// null redirect happens farther down in the expression tree than the</span>
<span class="comment">// implicit `stdout_capture`, and so it takes precedence.</span>
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;foo&quot;</span>, <span class="string">&quot;bar&quot;</span>, <span class="string">&quot;baz&quot;</span>).<span class="ident">stdout_null</span>().<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdout_capture" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#581-583" title="goto source code">[src]</a></div><a href="#method.stdout_capture" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdout_capture" class="fnname">stdout_capture</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Capture the standard output of an expression. The captured bytes will
be available on the <code>stdout</code> field of the
<a href="https://doc.rust-lang.org/std/process/struct.Output.html"><code>std::process::Output</code></a>
object returned by <a href="struct.Expression.html#method.run"><code>run</code></a> or
<a href="struct.Handle.html#method.wait"><code>wait</code></a>. Output is read by a
background thread, so the child will never block writing to stdout. But
note that <a href="struct.Expression.html#method.read"><code>read</code></a> and
<a href="struct.Expression.html#method.reader"><code>reader</code></a> can be more
convenient, and they don’t require the background thread.</p>
<h1 id="example-12" class="section-header"><a href="#example-12">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// The most direct way to read stdout bytes is `stdout_capture`.</span>
<span class="kw">let</span> <span class="ident">output1</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;foo&quot;</span>).<span class="ident">stdout_capture</span>().<span class="ident">run</span>().<span class="ident">unwrap</span>().<span class="ident">stdout</span>;
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="string">b&quot;foo\n&quot;</span>[..], <span class="kw-2">&amp;</span><span class="ident">output1</span>[..]);

<span class="comment">// The `read` method is a shorthand for `stdout_capture`, and it also</span>
<span class="comment">// does string parsing and newline trimming.</span>
<span class="kw">let</span> <span class="ident">output2</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;foo&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;foo&quot;</span>, <span class="ident">output2</span>)</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdout_to_stderr" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#599-601" title="goto source code">[src]</a></div><a href="#method.stdout_to_stderr" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdout_to_stderr" class="fnname">stdout_to_stderr</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Join the standard output of an expression to its standard error pipe,
similar to <code>1&gt;&amp;2</code> in the shell.</p>
<h1 id="example-13" class="section-header"><a href="#example-13">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;foo&quot;</span>).<span class="ident">stdout_to_stderr</span>().<span class="ident">stderr_capture</span>().<span class="ident">run</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="string">b&quot;foo\n&quot;</span>[..], <span class="kw-2">&amp;</span><span class="ident">output</span>.<span class="ident">stderr</span>[..]);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stderr_path" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#622-624" title="goto source code">[src]</a></div><a href="#method.stderr_path" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stderr_path" class="fnname">stderr_path</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;&gt;(&amp;self, path: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Open a file at the given path and use it as error output for an
expression, like <code>2&gt;</code> in the shell.</p>
<h1 id="example-14" class="section-header"><a href="#example-14">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Many types implement Into&lt;PathBuf&gt;, including &amp;str.</span>
<span class="kw">let</span> <span class="ident">path</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;mktemp&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo wee &gt;&amp;2&quot;</span>).<span class="ident">stderr_path</span>(<span class="kw-2">&amp;</span><span class="ident">path</span>).<span class="ident">run</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">error_output</span> <span class="op">=</span> <span class="ident">String::new</span>();
<span class="ident">std::fs::File::open</span>(<span class="kw-2">&amp;</span><span class="ident">path</span>).<span class="ident">unwrap</span>().<span class="ident">read_to_string</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">error_output</span>).<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;wee\n&quot;</span>, <span class="ident">error_output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stderr_file" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#645-647" title="goto source code">[src]</a></div><a href="#method.stderr_file" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stderr_file" class="fnname">stderr_file</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/std/os/fd/raw/trait.IntoRawFd.html" title="trait std::os::fd::raw::IntoRawFd">IntoRawFd</a>&gt;(&amp;self, file: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Use an already opened file or pipe as error output for an expression.</p>
<h1 id="example-15" class="section-header"><a href="#example-15">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">path</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;mktemp&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">file</span> <span class="op">=</span> <span class="ident">std::fs::File::create</span>(<span class="kw-2">&amp;</span><span class="ident">path</span>).<span class="ident">unwrap</span>();
<span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo wee &gt;&amp;2&quot;</span>).<span class="ident">stderr_file</span>(<span class="ident">file</span>).<span class="ident">run</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">error_output</span> <span class="op">=</span> <span class="ident">String::new</span>();
<span class="ident">std::fs::File::open</span>(<span class="kw-2">&amp;</span><span class="ident">path</span>).<span class="ident">unwrap</span>().<span class="ident">read_to_string</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">error_output</span>).<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;wee\n&quot;</span>, <span class="ident">error_output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stderr_null" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#666-668" title="goto source code">[src]</a></div><a href="#method.stderr_null" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stderr_null" class="fnname">stderr_null</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Use <code>/dev/null</code> (or <code>NUL</code> on Windows) as error output for an expression.</p>
<h1 id="example-16" class="section-header"><a href="#example-16">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// This echo-to-stderr command won&#39;t print anything.</span>
<span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo foo bar baz &gt;&amp;2&quot;</span>).<span class="ident">stderr_null</span>().<span class="ident">run</span>().<span class="ident">unwrap</span>();</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stderr_capture" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#687-689" title="goto source code">[src]</a></div><a href="#method.stderr_capture" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stderr_capture" class="fnname">stderr_capture</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Capture the error output of an expression. The captured bytes will be
available on the <code>stderr</code> field of the <code>Output</code> object returned by
<a href="struct.Expression.html#method.run"><code>run</code></a> or
<a href="struct.Handle.html#method.wait"><code>wait</code></a>. Output is read by a
background thread, so the child will never block writing to stderr.</p>
<h1 id="example-17" class="section-header"><a href="#example-17">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output_obj</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo foo &gt;&amp;2&quot;</span>).<span class="ident">stderr_capture</span>().<span class="ident">run</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="string">b&quot;foo\n&quot;</span>[..], <span class="kw-2">&amp;</span><span class="ident">output_obj</span>.<span class="ident">stderr</span>[..]);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stderr_to_stdout" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#705-707" title="goto source code">[src]</a></div><a href="#method.stderr_to_stdout" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stderr_to_stdout" class="fnname">stderr_to_stdout</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Join the standard error of an expression to its standard output pipe,
similar to <code>2&gt;&amp;1</code> in the shell.</p>
<h1 id="example-18" class="section-header"><a href="#example-18">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">error_output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo foo &gt;&amp;2&quot;</span>).<span class="ident">stderr_to_stdout</span>().<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;foo&quot;</span>, <span class="ident">error_output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stdout_stderr_swap" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#728-730" title="goto source code">[src]</a></div><a href="#method.stdout_stderr_swap" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stdout_stderr_swap" class="fnname">stdout_stderr_swap</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Swap the stdout and stderr of an expression.</p>
<h1 id="example-19" class="section-header"><a href="#example-19">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo foo &amp;&amp; echo bar &gt;&amp;2&quot;</span>)
    .<span class="ident">stdout_stderr_swap</span>()
    .<span class="ident">stdout_capture</span>()
    .<span class="ident">stderr_capture</span>()
    .<span class="ident">run</span>()
    .<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">b&quot;bar\n&quot;</span>, <span class="kw-2">&amp;</span><span class="kw-2">*</span><span class="ident">output</span>.<span class="ident">stdout</span>);
<span class="macro">assert_eq!</span>(<span class="string">b&quot;foo\n&quot;</span>, <span class="kw-2">&amp;</span><span class="kw-2">*</span><span class="ident">output</span>.<span class="ident">stderr</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dir" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#766-768" title="goto source code">[src]</a></div><a href="#method.dir" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dir" class="fnname">dir</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;&gt;(&amp;self, path: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Set the working directory where the expression will execute.</p>
<p>Note that in some languages (Rust and Python at least), there are
tricky platform differences in the way relative exe paths interact with
child working directories. In particular, the exe path will be
interpreted relative to the child dir on Unix, but relative to the
parent dir on Windows. Duct prefers the Windows behavior, and in order
to get that behavior on all platforms it calls
<a href="https://doc.rust-lang.org/std/fs/fn.canonicalize.html"><code>std::fs::canonicalize</code></a>
on relative exe paths when <code>dir</code> is in use. Paths in this sense are any
program name containing a path separator, regardless of the type. (Note
also that <code>Path</code> and <code>PathBuf</code> program names get a <code>./</code> prepended to
them automatically by the
<a href="trait.IntoExecutablePath.html"><code>IntoExecutablePath</code></a> trait, and so
will always contain a separator.)</p>
<h1 id="errors-3" class="section-header"><a href="#errors-3">Errors</a></h1>
<p>Canonicalization can fail on some filesystems, or if the current
directory has been removed, and
<a href="struct.Expression.html#method.run"><code>run</code></a> will return those errors
rather than trying any sneaky workarounds.</p>
<h1 id="example-20" class="section-header"><a href="#example-20">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;pwd&quot;</span>).<span class="ident">dir</span>(<span class="string">&quot;/&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;/&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.env" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#783-792" title="goto source code">[src]</a></div><a href="#method.env" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.env" class="fnname">env</a>&lt;T, U&gt;(&amp;self, name: T, val: U) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>&gt;,&nbsp;</span></h4></div></summary><div class="docblock"><p>Set a variable in the expression’s environment.</p>
<h1 id="example-21" class="section-header"><a href="#example-21">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo $FOO&quot;</span>).<span class="ident">env</span>(<span class="string">&quot;FOO&quot;</span>, <span class="string">&quot;bar&quot;</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;bar&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.env_remove" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#816-824" title="goto source code">[src]</a></div><a href="#method.env_remove" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.env_remove" class="fnname">env_remove</a>&lt;T&gt;(&amp;self, name: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>&gt;,&nbsp;</span></h4></div></summary><div class="docblock"><p>Remove a variable from the expression’s environment.</p>
<p>Note that all the environment functions try to do whatever the platform
does with respect to case sensitivity. That means that
<code>env_remove(&quot;foo&quot;)</code> will unset the uppercase variable <code>FOO</code> on Windows,
but not on Unix.</p>
<h1 id="example-22" class="section-header"><a href="#example-22">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">std::env::set_var</span>(<span class="string">&quot;TESTING&quot;</span>, <span class="string">&quot;true&quot;</span>);
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo a${TESTING}b&quot;</span>)
    .<span class="ident">env_remove</span>(<span class="string">&quot;TESTING&quot;</span>)
    .<span class="ident">read</span>()
    .<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;ab&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.full_env" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#850-861" title="goto source code">[src]</a></div><a href="#method.full_env" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.full_env" class="fnname">full_env</a>&lt;T, U, V&gt;(&amp;self, name_vals: T) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.tuple.html">(</a>U, V<a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.tuple.html">)</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>&gt;,&nbsp;</span></h4></div></summary><div class="docblock"><p>Set the expression’s entire environment, from a collection of
name-value pairs (like a <code>HashMap</code>). Note that some environment
variables are required for normal program execution (like <code>SystemRoot</code>
on Windows), so copying the parent’s environment is usually preferable
to starting with an empty one.</p>
<h1 id="example-23" class="section-header"><a href="#example-23">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">env_map</span>: <span class="ident">HashMap</span><span class="op">&lt;</span><span class="kw">_</span>, <span class="kw">_</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">std::env::vars</span>().<span class="ident">collect</span>();
<span class="ident">env_map</span>.<span class="ident">insert</span>(<span class="string">&quot;FOO&quot;</span>.<span class="ident">into</span>(), <span class="string">&quot;bar&quot;</span>.<span class="ident">into</span>());
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo $FOO&quot;</span>).<span class="ident">full_env</span>(<span class="kw-2">&amp;</span><span class="ident">env_map</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;bar&quot;</span>, <span class="ident">output</span>);
<span class="comment">// The IntoIterator/Into&lt;OsString&gt; bounds are pretty flexible. Passing</span>
<span class="comment">// by value works here too.</span>
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo $FOO&quot;</span>).<span class="ident">full_env</span>(<span class="ident">env_map</span>).<span class="ident">read</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;bar&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.unchecked" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#894-896" title="goto source code">[src]</a></div><a href="#method.unchecked" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.unchecked" class="fnname">unchecked</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class="docblock"><p>Prevent a non-zero exit status from causing
<a href="struct.Expression.html#method.run"><code>run</code></a> or
<a href="struct.Expression.html#method.read"><code>read</code></a> to return an error. The
unchecked exit code will still be there on the <code>Output</code> returned by
<code>run</code>; its value doesn’t change.</p>
<p>“Uncheckedness” sticks to an exit code as it bubbles up through
complicated pipelines, but it doesn’t “infect” other exit codes. So for
example, if only one sub-expression in a pipe has <code>unchecked</code>, then
errors returned by the other side will still be checked. That said,
most commonly you’ll just call <code>unchecked</code> right before <code>run</code>, and
it’ll apply to an entire expression.</p>
<h1 id="example-24" class="section-header"><a href="#example-24">Example</a></h1>
<p>Note the differences among these three cases:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Don&#39;t check errors on the left side.</span>
<span class="macro">cmd!</span>(<span class="string">&quot;foo&quot;</span>).<span class="ident">unchecked</span>().<span class="ident">pipe</span>(<span class="macro">cmd!</span>(<span class="string">&quot;bar&quot;</span>)).<span class="ident">run</span>()<span class="question-mark">?</span>;

<span class="comment">// Don&#39;t check errors on the right side.</span>
<span class="macro">cmd!</span>(<span class="string">&quot;foo&quot;</span>).<span class="ident">pipe</span>(<span class="macro">cmd!</span>(<span class="string">&quot;bar&quot;</span>).<span class="ident">unchecked</span>()).<span class="ident">run</span>()<span class="question-mark">?</span>;

<span class="comment">// Don&#39;t check errors on either side.</span>
<span class="macro">cmd!</span>(<span class="string">&quot;foo&quot;</span>).<span class="ident">pipe</span>(<span class="macro">cmd!</span>(<span class="string">&quot;bar&quot;</span>)).<span class="ident">unchecked</span>().<span class="ident">run</span>()<span class="question-mark">?</span>;</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.before_spawn" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#930-935" title="goto source code">[src]</a></div><a href="#method.before_spawn" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.before_spawn" class="fnname">before_spawn</a>&lt;F&gt;(&amp;self, hook: F) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut <a class="struct" href="https://doc.rust-lang.org/1.56.0/std/process/struct.Command.html" title="struct std::process::Command">Command</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,&nbsp;</span></h4></div></summary><div class="docblock"><p>Add a hook for modifying
<a href="https://doc.rust-lang.org/std/process/struct.Command.html"><code>std::process::Command</code></a>
objects immediately before they’re executed.</p>
<p>The hook is called for each command in its sub-expression, and each time the expression is
executed. The call happens after other features like <code>stdout</code> and <code>env</code> have been applied,
so any changes made by the hook take priority. More than one hook can be added, in which
case the innermost is executed last. For example, if one call to <code>before_spawn</code> is applied
to an entire pipe expression, and another call is applied to just one command within the
pipe, the hook for the entire pipeline will be called first over the command where both
hooks apply.</p>
<p>This is intended for rare and tricky cases, like callers who want to change the group ID of
their child processes, or who want to run code in <code>before_exec</code>. Most callers shouldn’t
need to use it.</p>
<h1 id="example-25" class="section-header"><a href="#example-25">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="macro">cmd!</span>(<span class="string">&quot;echo&quot;</span>, <span class="string">&quot;foo&quot;</span>)
    .<span class="ident">before_spawn</span>(<span class="op">|</span><span class="ident">cmd</span><span class="op">|</span> {
        <span class="comment">// Sneakily add an extra argument.</span>
        <span class="ident">cmd</span>.<span class="ident">arg</span>(<span class="string">&quot;bar&quot;</span>);
        <span class="prelude-val">Ok</span>(())
    })
    .<span class="ident">read</span>()
    .<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="string">&quot;foo bar&quot;</span>, <span class="ident">output</span>);</code></pre></div>
</div></details></div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Clone" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#219" title="goto source code">[src]</a></div><a href="#impl-Clone" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#219" title="goto source code">[src]</a></div><a href="#method.clone" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.56.0/core/clone/trait.Clone.html#tymethod.clone" class="fnname">clone</a>(&amp;self) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/1.56.0/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone_from" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/clone.rs.html#130" title="goto source code">[src]</a></div><a href="#method.clone_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.56.0/core/clone/trait.Clone.html#method.clone_from" class="fnname">clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.reference.html">&amp;</a>Self)</h4></div></summary><div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/1.56.0/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Debug" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#944-948" title="goto source code">[src]</a></div><a href="#impl-Debug" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.fmt" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#945-947" title="goto source code">[src]</a></div><a href="#method.fmt" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.56.0/core/fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.56.0/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></div></summary><div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.56.0/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-From%3C%26%27a%20Expression%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#952-956" title="goto source code">[src]</a></div><a href="#impl-From%3C%26%27a%20Expression%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;&amp;'a <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a>&gt; for <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/duct/lib.rs.html#953-955" title="goto source code">[src]</a></div><a href="#method.from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.56.0/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(expr: &amp;<a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a>) -&gt; <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><div id="impl-RefUnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div><div id="impl-Send" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div><div id="impl-Sync" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div><div id="impl-Unpin" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div><div id="impl-UnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Expression.html" title="struct duct::Expression">Expression</a></h3></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Any" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/any.rs.html#132-136" title="goto source code">[src]</a></div><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.type_id" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/any.rs.html#133" title="goto source code">[src]</a></div><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.56.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></div></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.56.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Borrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/borrow.rs.html#208-213" title="goto source code">[src]</a></div><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/borrow.rs.html#210" title="goto source code">[src]</a></div><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.56.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/borrow.rs.html#216-220" title="goto source code">[src]</a></div><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_mut" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/borrow.rs.html#217" title="goto source code">[src]</a></div><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.reference.html">&amp;mut </a>T</h4></div></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.56.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-From%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/convert/mod.rs.html#546-550" title="goto source code">[src]</a></div><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/convert/mod.rs.html#547" title="goto source code">[src]</a></div><a href="#method.from-1" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Into%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/convert/mod.rs.html#535-542" title="goto source code">[src]</a></div><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/convert/mod.rs.html#539" title="goto source code">[src]</a></div><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-ToOwned" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/alloc/borrow.rs.html#84-96" title="goto source code">[src]</a></div><a href="#impl-ToOwned" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Owned" class="type trait-impl has-srclink"><a href="#associatedtype.Owned" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.56.0/alloc/borrow/trait.ToOwned.html#associatedtype.Owned" class="type">Owned</a> = T</h4></div></summary><div class='docblock'><p>The resulting type after obtaining ownership.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.to_owned" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/alloc/borrow.rs.html#89" title="goto source code">[src]</a></div><a href="#method.to_owned" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/alloc/borrow/trait.ToOwned.html#tymethod.to_owned" class="fnname">to_owned</a>(&amp;self) -&gt; T</h4></div></summary><div class='docblock'><p>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/1.56.0/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/alloc/borrow.rs.html#93" title="goto source code">[src]</a></div><a href="#method.clone_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/alloc/borrow/trait.ToOwned.html#method.clone_into" class="fnname">clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.reference.html">&amp;mut </a>T)</h4></div></summary><div class="item-info"><div class="stab unstable"><details><summary><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>toowned_clone_into</code>)</summary><p>recently added</p>
</details></div></div><div class='docblock'><p>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/1.56.0/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryFrom%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/convert/mod.rs.html#583-592" title="goto source code">[src]</a></div><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.56.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/convert/mod.rs.html#589" title="goto source code">[src]</a></div><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryInto%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/convert/mod.rs.html#569-578" title="goto source code">[src]</a></div><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryInto.html#associatedtype.Error" class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.0/src/core/convert/mod.rs.html#575" title="goto source code">[src]</a></div><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.56.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="duct" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>